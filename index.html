<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Medium Safe Whale</title>
    <title>Weather Widget</title>
    <meta property="og:title" content="Medium Safe Whale" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta property="twitter:card" content="summary_large_image" />

    <style data-tag="reset-style-sheet">
      html {  line-height: 1.15;}body {  margin: 0;}* {  box-sizing: border-box;  border-width: 0;  border-style: solid;  -webkit-font-smoothing: antialiased;}p,li,ul,pre,div,h1,h2,h3,h4,h5,h6,figure,blockquote,figcaption {  margin: 0;  padding: 0;}button {  background-color: transparent;}button,input,optgroup,select,textarea {  font-family: inherit;  font-size: 100%;  line-height: 1.15;  margin: 0;}button,select {  text-transform: none;}button,[type="button"],[type="reset"],[type="submit"] {  -webkit-appearance: button;  color: inherit;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner {  border-style: none;  padding: 0;}button:-moz-focus,[type="button"]:-moz-focus,[type="reset"]:-moz-focus,[type="submit"]:-moz-focus {  outline: 1px dotted ButtonText;}a {  color: inherit;  text-decoration: inherit;}pre {  white-space: normal;}input {  padding: 2px 4px;}img {  display: block;}details {  display: block;  margin: 0;  padding: 0;}summary::-webkit-details-marker {  display: none;}[data-thq="accordion"] [data-thq="accordion-content"] {  max-height: 0;  overflow: hidden;  transition: max-height 0.3s ease-in-out;  padding: 0;}[data-thq="accordion"] details[data-thq="accordion-trigger"][open] + [data-thq="accordion-content"] {  max-height: 1000vh;}details[data-thq="accordion-trigger"][open] summary [data-thq="accordion-icon"] {  transform: rotate(180deg);}html { scroll-behavior: smooth  }
    </style>
    <style data-tag="default-style-sheet">
      html {
        font-family: Inter;
        font-size: 16px;
      }

      body {
        font-weight: 400;
        font-style:normal;
        text-decoration: none;
        text-transform: none;
        letter-spacing: normal;
        line-height: 1.15;
        color: var(--dl-color-theme-neutral-dark);
        background: var(--dl-color-theme-neutral-light);

        fill: var(--dl-color-theme-neutral-dark);
      }
    </style>
    <link
      rel="stylesheet"
      href="https://unpkg.com/animate.css@4.1.1/animate.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=STIX+Two+Text:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
      data-tag="font"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/@teleporthq/teleport-custom-scripts/dist/style.css"
    />
  </head>
  <body>
    <link rel="stylesheet" href="./style.css" />
    <div>
      <link href="./index.css" rel="stylesheet" />

      <div class="home-container1">
        <header
          data-thq="thq-navbar"
          class="home-thq-navbar-interactive-elm button"
        >
          <img
            alt="logo"
            src="public/claytonsweatherlogocircle-1500h.png"
            class="home-image"
          />
          <div data-thq="thq-navbar-nav" class="home-thq-desktop-menu-elm">
            <nav class="home-thq-links-elm1">
              <a href="weather-radar.html" class="home-navlink1">
                Weather Radar
              </a>
            </nav>
          </div>
          <div data-thq="thq-burger-menu" class="home-thq-burger-menu-elm">
            <a href="weather-radar.html">
              <svg viewBox="0 0 1024 1024" class="home-icon10">
                <path
                  d="M128 554.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 298.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667zM128 810.667h768c23.552 0 42.667-19.115 42.667-42.667s-19.115-42.667-42.667-42.667h-768c-23.552 0-42.667 19.115-42.667 42.667s19.115 42.667 42.667 42.667z"
                ></path>
              </svg>
            </a>
          </div>
          <div data-thq="thq-mobile-menu" class="home-thq-mobile-menu-elm">
            <div class="home-thq-nav-elm">
              <div class="home-thq-top-elm">
                <img
                  alt="image"
                  src="public/claytonsweatherlogocircle-1500h.png"
                  class="home-thq-logo-elm1"
                />
                <div data-thq="thq-close-menu" class="home-thq-close-menu-elm">
                  <svg viewBox="0 0 1024 1024" class="home-icon12">
                    <path
                      d="M810 274l-238 238 238 238-60 60-238-238-238 238-60-60 238-238-238-238 60-60 238 238 238-238z"
                    ></path>
                  </svg>
                </div>
              </div>
              <nav class="home-thq-links-elm2">
                <a href="weather-radar.html" class="home-navlink3">
                  Weather Radar
                </a>
                <a href="cw-station.html" class="home-navlink4">CW Station</a>
              </nav>
              <div class="home-thq-buttons-elm"></div>
            </div>
            <div>
              <svg viewBox="0 0 950.8571428571428 1024" class="home-icon14">
                <path
                  d="M925.714 233.143c-25.143 36.571-56.571 69.143-92.571 95.429 0.571 8 0.571 16 0.571 24 0 244-185.714 525.143-525.143 525.143-104.571 0-201.714-30.286-283.429-82.857 14.857 1.714 29.143 2.286 44.571 2.286 86.286 0 165.714-29.143 229.143-78.857-81.143-1.714-149.143-54.857-172.571-128 11.429 1.714 22.857 2.857 34.857 2.857 16.571 0 33.143-2.286 48.571-6.286-84.571-17.143-148-91.429-148-181.143v-2.286c24.571 13.714 53.143 22.286 83.429 23.429-49.714-33.143-82.286-89.714-82.286-153.714 0-34.286 9.143-65.714 25.143-93.143 90.857 112 227.429 185.143 380.571 193.143-2.857-13.714-4.571-28-4.571-42.286 0-101.714 82.286-184.571 184.571-184.571 53.143 0 101.143 22.286 134.857 58.286 41.714-8 81.714-23.429 117.143-44.571-13.714 42.857-42.857 78.857-81.143 101.714 37.143-4 73.143-14.286 106.286-28.571z"
                ></path></svg
              ><svg viewBox="0 0 877.7142857142857 1024" class="home-icon16">
                <path
                  d="M585.143 512c0-80.571-65.714-146.286-146.286-146.286s-146.286 65.714-146.286 146.286 65.714 146.286 146.286 146.286 146.286-65.714 146.286-146.286zM664 512c0 124.571-100.571 225.143-225.143 225.143s-225.143-100.571-225.143-225.143 100.571-225.143 225.143-225.143 225.143 100.571 225.143 225.143zM725.714 277.714c0 29.143-23.429 52.571-52.571 52.571s-52.571-23.429-52.571-52.571 23.429-52.571 52.571-52.571 52.571 23.429 52.571 52.571zM438.857 152c-64 0-201.143-5.143-258.857 17.714-20 8-34.857 17.714-50.286 33.143s-25.143 30.286-33.143 50.286c-22.857 57.714-17.714 194.857-17.714 258.857s-5.143 201.143 17.714 258.857c8 20 17.714 34.857 33.143 50.286s30.286 25.143 50.286 33.143c57.714 22.857 194.857 17.714 258.857 17.714s201.143 5.143 258.857-17.714c20-8 34.857-17.714 50.286-33.143s25.143-30.286 33.143-50.286c22.857-57.714 17.714-194.857 17.714-258.857s5.143-201.143-17.714-258.857c-8-20-17.714-34.857-33.143-50.286s-30.286-25.143-50.286-33.143c-57.714-22.857-194.857-17.714-258.857-17.714zM877.714 512c0 60.571 0.571 120.571-2.857 181.143-3.429 70.286-19.429 132.571-70.857 184s-113.714 67.429-184 70.857c-60.571 3.429-120.571 2.857-181.143 2.857s-120.571 0.571-181.143-2.857c-70.286-3.429-132.571-19.429-184-70.857s-67.429-113.714-70.857-184c-3.429-60.571-2.857-120.571-2.857-181.143s-0.571-120.571 2.857-181.143c3.429-70.286 19.429-132.571 70.857-184s113.714-67.429 184-70.857c60.571-3.429 120.571-2.857 181.143-2.857s120.571-0.571 181.143 2.857c70.286 3.429 132.571 19.429 184 70.857s67.429 113.714 70.857 184c3.429 60.571 2.857 120.571 2.857 181.143z"
                ></path></svg
              ><svg viewBox="0 0 602.2582857142856 1024" class="home-icon18">
                <path
                  d="M548 6.857v150.857h-89.714c-70.286 0-83.429 33.714-83.429 82.286v108h167.429l-22.286 169.143h-145.143v433.714h-174.857v-433.714h-145.714v-169.143h145.714v-124.571c0-144.571 88.571-223.429 217.714-223.429 61.714 0 114.857 4.571 130.286 6.857z"
                ></path>
              </svg>
            </div>
          </div>
        </header>
        <h1 class="home-thq-title-elm">ULTRA</h1>
        <div class="home-container2">
          <h1 class="home-thq-underheader-title-elm">By Clayton's Weather</h1>
        </div>
        <div class="home-container3">
          <div class="home-container4">
            <img
              alt="image"
              src="public/claytonsweatherlogocircle-1500h.png"
              class="home-thq-logo-elm2"
            />
            <hr class="home-separator1" />
          </div>
          <hr class="home-separator2" />
        </div>
        <div class="home-container5">
          <div class="home-container6">
            <div
              style="position: relative; width: 100%; height: 0; padding-top: 56.2500%;
 padding-bottom: 0; box-shadow: 0 2px 8px 0 rgba(63,69,81,0.16); margin-top: 1.6em; margin-bottom: 0.9em; overflow: hidden;
 border-radius: 8px; will-change: transform;"
            >
              <iframe
                loading="lazy"
                style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; border: none; padding: 0;margin: 0;"
                src="https://www.canva.com/design/DAG7csV-gHI/NfQwf7ACZWiZ792T0zA_uw/view?embed"
                allowfullscreen=""
                allow="fullscreen"
              ></iframe>
            </div>
            <a
              href="https://www.canva.com/design/DAG7csV-gHI/NfQwf7ACZWiZ792T0zA_uw/view?utm_content=DAG7csV-gHI&amp;utm_campaign=designshare&amp;utm_medium=embeds&amp;utm_source=link"
              target="_blank"
              rel="noopener"
            >
              Clayton’s Weather Dec. 14th
            </a>
            by clayton fuchs
          </div>
        </div>
        <hr class="home-separator3" />
        <div class="home-container7">
          <div class="home-container8">
            <!-- REQUIRED for phone sizing -->

            <style>
              body {
                background-color: lightblue;
                font-family: Arial, sans-serif;
                display: flex;
                justify-content: center;
                align-items: center;
                min-height: 100vh;
                margin: 0;
                padding: 10px;
              }

              .weather-container {
                background: white;
                border-radius: 12px;
                padding: 16px;
                text-align: center;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                width: 100%;
                max-width: 360px;
                /* phone-friendly */
              }

              h1 {
                font-size: 1.4rem;
                margin-bottom: 10px;
              }

              .weather-info p {
                font-size: 0.95rem;
                margin: 6px 0;
              }

              .input-container {
                margin-top: 12px;
              }

              input,
              button {
                width: 100%;
                padding: 12px;
                font-size: 1rem;
                margin-top: 8px;
                border-radius: 8px;
              }

              input {
                border: 1px solid #ccc;
              }

              button {
                border: none;
                background: #2196f3;
                color: white;
                cursor: pointer;
              }

              button:active {
                transform: scale(0.98);
              }

              .forecast {
                margin-top: 14px;
                font-size: 0.95rem;
              }

              /* Extra small phones */
              @media (max-width: 360px) {
                h1 {
                  font-size: 1.25rem;
                }

                .weather-info p,
                .forecast {
                  font-size: 0.9rem;
                }
              }
            </style>

            <div class="weather-container">
              <h1>Weather Info</h1>

              <div id="weather" class="weather-info">Loading weather...</div>

              <div
                id="location-input"
                class="input-container"
                style="display:none;"
              >
                <input
                  type="text"
                  id="city-zip"
                  placeholder="Enter city or zip"
                />
                <button onclick="fetchWeatherByLocation()">Get Weather</button>
              </div>

              <div id="forecast" class="forecast"></div>
            </div>

            <script>
              document.addEventListener('DOMContentLoaded', function() {
                const apiKey = "d4d40ac08e5b93649b3d07759143419f";

                    function fetchWeather(lat, lon) {
                      fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=imperial&appid=${apiKey}`)
                        .then(res => res.json())
                        .then(data => {
                          displayCurrentWeather(data);
                          fetchForecastByCoords(lat, lon);
                        })
                        .catch(() => {
                          document.getElementById('weather').innerText = "Failed to load weather.";
                        });
                    }

                    function fetchUVIndex(lat, lon) {
                      fetch(`https://api.openweathermap.org/data/2.5/uvi?lat=${lat}&lon=${lon}&appid=${apiKey}`)
                        .then(res => res.json())
                        .then(data => {
                          document.getElementById('uv-index').innerText = data.value ?? "N/A";
                        })
                        .catch(() => {
                          document.getElementById('uv-index').innerText = "N/A";
                        });
                    }

                    function degreesToCompass(deg) {
                      const dirs = ["N","NNE","NE","ENE","E","ESE","SE","SSE",
                                    "S","SSW","SW","WSW","W","WNW","NW","NNW"];
                      return dirs[Math.round(deg / 22.5) % 16];
                    }

                    function displayCurrentWeather(data) {
                      const windDir = degreesToCompass(data.wind.deg);
                      const gust = data.wind.gust ? ` (Gusts ${data.wind.gust.toFixed(1)} mph)` : "";

                      document.getElementById('weather').innerHTML = `
                        <p><strong>${data.main.temp}°F</strong></p>
                        <p>${data.weather[0].description}</p>
                        <p>Humidity: ${data.main.humidity}%</p>
                        <p>Wind: ${data.wind.speed.toFixed(1)} mph ${windDir}${gust}</p>
                        <p>UV Index: <span id="uv-index">Loading...</span></p>
                      `;

                      fetchUVIndex(data.coord.lat, data.coord.lon);
                    }

                    function fetchForecastByCoords(lat, lon) {
                      fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&units=imperial&appid=${apiKey}`)
                        .then(res => res.json())
                        .then(data => {
                          const tomorrow = new Date();
                          tomorrow.setDate(tomorrow.getDate() + 1);
                          const dateStr = tomorrow.toISOString().split("T")[0];

                          const items = data.list.filter(i => i.dt_txt.startsWith(dateStr));
                          if (!items.length) return;

                          const temps = items.map(i => i.main.temp);
                          document.getElementById('forecast').innerHTML = `
                            <h3>Tomorrow</h3>
                            <p>${items[0].weather[0].description}</p>
                            <p>${Math.min(...temps).toFixed(1)}°F / ${Math.max(...temps).toFixed(1)}°F</p>
                          `;
                        });
                    }

                    function fetchWeatherByLocation() {
                      const loc = document.getElementById('city-zip').value;
                      if (!loc) return;

                      fetch(`https://api.openweathermap.org/data/2.5/weather?q=${loc}&units=imperial&appid=${apiKey}`)
                        .then(res => res.json())
                        .then(data => {
                          if (data.cod === 200) {
                            displayCurrentWeather(data);
                            fetchForecastByCoords(data.coord.lat, data.coord.lon);
                          } else {
                            document.getElementById('weather').innerText = "Location not found.";
                          }
                        });
                    }

                    function tryGeolocation() {
                      if (!navigator.geolocation) {
                        document.getElementById('location-input').style.display = "block";
                        return;
                      }

                      navigator.geolocation.getCurrentPosition(
                        pos => fetchWeather(pos.coords.latitude, pos.coords.longitude),
                        () => document.getElementById('location-input').style.display = "block"
                      );
                    }

                    tryGeolocation();
              });
            </script>
          </div>
        </div>
        <hr class="home-separator4" />
        <iframe
          src="https://claytonsweather.github.io/CWalerts/"
          class="home-iframe1"
        ></iframe>
        <hr class="home-separator5" />
        <iframe
          src="https://claytonsweather.github.io/CWRadar/"
          class="home-iframe2"
        ></iframe>
        <a href="https://play.teleporthq.io/signup" class="home-link">
          <div aria-label="Sign up to TeleportHQ" class="home-container9">
            <svg
              width="24"
              height="24"
              viewBox="0 0 19 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="home-icon20"
            >
              <path
                d="M9.1017 4.64355H2.17867C0.711684 4.64355 -0.477539 5.79975 -0.477539 7.22599V13.9567C-0.477539 15.3829 0.711684 16.5391 2.17867 16.5391H9.1017C10.5687 16.5391 11.7579 15.3829 11.7579 13.9567V7.22599C11.7579 5.79975 10.5687 4.64355 9.1017 4.64355Z"
                fill="#B23ADE"
              ></path>
              <path
                d="M10.9733 12.7878C14.4208 12.7878 17.2156 10.0706 17.2156 6.71886C17.2156 3.3671 14.4208 0.649963 10.9733 0.649963C7.52573 0.649963 4.73096 3.3671 4.73096 6.71886C4.73096 10.0706 7.52573 12.7878 10.9733 12.7878Z"
                fill="#FF5C5C"
              ></path>
              <path
                d="M17.7373 13.3654C19.1497 14.1588 19.1497 15.4634 17.7373 16.2493L10.0865 20.5387C8.67402 21.332 7.51855 20.6836 7.51855 19.0968V10.5141C7.51855 8.92916 8.67402 8.2807 10.0865 9.07221L17.7373 13.3654Z"
                fill="#2874DE"
              ></path>
            </svg>
            <span class="home-text">Built in TeleportHQ</span>
          </div>
        </a>
      </div>
      <link rel="canonical" href="https://cwultra-app.teleporthq.app/" />
    </div>
    <script
      defer=""
      src="https://unpkg.com/@teleporthq/teleport-custom-scripts"
    ></script>
  </body>
</html>
